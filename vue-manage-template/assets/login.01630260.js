import{d as F,K as f,e5 as I,r as E,cz as V,e6 as k,o as h,e as x,g as p,f as o,w as a,u as b,e7 as C,bQ as N,e8 as D,i as J,c as K,p as O,j as T,_ as q}from"./index.19c0f551.js";import{E as P,a as U}from"./el-form-item.63599a2a.js";import{E as $}from"./el-input.e559afe4.js";import{E as v}from"./index.65444ca6.js";import"./baseClone.4b761982.js";import"./Uint8Array.c679f373.js";import"./initCloneObject.85369360.js";import"./event.776e7e11.js";const j=u=>(O("data-v-3be6fb8b"),u=u(),T(),u),z={class:"login-wrap"},L={class:"ms-login"},M=j(()=>p("div",{class:"ms-title"},"\u5E94\u7528\u517C\u5BB9\u6027\u68C0\u6D4B\u5E73\u53F0",-1)),Q={class:"login-btn"},R=F({__name:"login",setup(u){const l=localStorage.getItem("login-param"),n=l?JSON.parse(l):null,S=f(!!l),B=I(),s=E({username:n?n.username:"",password:n?n.password:""}),w={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},d=V(),m=f(),c=i=>{!i||i.validate(e=>{if(e){v.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("ms_username",s.username);const t=d.defaultList[s.username=="admin","admin"];d.handleSet(t),localStorage.setItem("ms_keys",JSON.stringify(t)),B.push("/"),S.value?localStorage.setItem("login-param",JSON.stringify(s)):localStorage.removeItem("login-param")}else return v.error("\u767B\u5F55\u5931\u8D25"),!1})};return k().clearTags(),(i,e)=>{const t=K,_=$,g=P,y=U;return h(),x("div",z,[p("div",L,[M,o(y,{model:s,rules:w,ref_key:"login",ref:m,"label-width":"0px",class:"ms-content"},{default:a(()=>[o(g,{prop:"username"},{default:a(()=>[o(_,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=r=>s.username=r),placeholder:"\u7528\u6237\u540D"},{prepend:a(()=>[o(t,{icon:b(C)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),o(g,{prop:"password"},{default:a(()=>[o(_,{type:"password",placeholder:"\u5BC6\u7801",modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),onKeyup:e[2]||(e[2]=N(r=>c(m.value),["enter"]))},{prepend:a(()=>[o(t,{icon:b(D)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),p("div",Q,[o(t,{type:"primary",onClick:e[3]||(e[3]=r=>c(m.value))},{default:a(()=>[J("\u767B\u5F55")]),_:1})])]),_:1},8,["model"])])])}}});const oe=q(R,[["__scopeId","data-v-3be6fb8b"]]);export{oe as default};
