import{c as q,d as x,bc as $,h as U,w as G,z as v,j as I,a2 as O,aU as Q,o as w,J as _,K as l,l as M,q as F,p as s,s as L,N as P,_ as K,aj as D,I as Y,r as H,$ as e,k as Z,X as z,W as ee,m as i,Y as b,bx as V,by as le,aa as B,M as te,R as ae}from"./index-DPYi3hip.js";import{m as ue,n as T,h as A,j as oe,o as ne,E as de,l as se}from"./stringFun-COwVJzme.js";/* empty css               *//* empty css            *//* empty css            *//* empty css               */import{E as me,f as fe}from"./index-CHd2O8eQ.js";const re=q({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:x([Number,Object]),default:()=>$({})},sm:{type:x([Number,Object]),default:()=>$({})},md:{type:x([Number,Object]),default:()=>$({})},lg:{type:x([Number,Object]),default:()=>$({})},xl:{type:x([Number,Object]),default:()=>$({})}}),X=Symbol("rowContextKey"),ie=U({name:"ElCol"}),pe=U({...ie,props:re,setup(a){const d=a,{gutter:g}=G(X,{gutter:v(()=>0)}),r=I("col"),N=v(()=>{const n={};return g.value&&(n.paddingLeft=n.paddingRight=`${g.value/2}px`),n}),k=v(()=>{const n=[];return["span","offset","pull","push"].forEach(u=>{const t=d[u];O(t)&&(u==="span"?n.push(r.b(`${d[u]}`)):t>0&&n.push(r.b(`${u}-${d[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{O(d[u])?n.push(r.b(`${u}-${d[u]}`)):Q(d[u])&&Object.entries(d[u]).forEach(([t,j])=>{n.push(t!=="span"?r.b(`${u}-${t}-${j}`):r.b(`${u}-${j}`))})}),g.value&&n.push(r.is("guttered")),[r.b(),n]});return(n,E)=>(w(),_(P(n.tag),{class:F(s(k)),style:L(s(N))},{default:l(()=>[M(n.$slots,"default")]),_:3},8,["class","style"]))}});var ce=K(pe,[["__file","col.vue"]]);const be=D(ce),Ve=["start","center","end","space-around","space-between","space-evenly"],ge=["top","middle","bottom"],ye=q({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Ve,default:"start"},align:{type:String,values:ge}}),ve=U({name:"ElRow"}),Ne=U({...ve,props:ye,setup(a){const d=a,g=I("row"),r=v(()=>d.gutter);Y(X,{gutter:r});const N=v(()=>{const n={};return d.gutter&&(n.marginRight=n.marginLeft=`-${d.gutter/2}px`),n}),k=v(()=>[g.b(),g.is(`justify-${d.justify}`,d.justify!=="start"),g.is(`align-${d.align}`,!!d.align)]);return(n,E)=>(w(),_(P(n.tag),{class:F(s(k)),style:L(s(N))},{default:l(()=>[M(n.$slots,"default")]),_:3},8,["class","style"]))}});var ke=K(Ne,[["__file","row.vue"]]);const Ce=D(ke),xe={class:"flex"},Re=Object.assign({name:"BaseForm"},{__name:"baseForm",props:{modelValue:{type:Object,required:!0},isAdd:{type:Boolean,default:!1},rules:{type:Object,required:!0},pkgs:{type:Array,required:!0}},emits:["update:modelValue","llm-auto","gva-change"],setup(a,{expose:d,emit:g}){const r=a,N=g;function k(){const u=B(r,"modelValue");u.value.packageName=T(u.value.packageName)}function n(u){N("gva-change",u)}function E(){const u=B(r,"modelValue");let t=A(u.value.structName);t.startsWith("_")&&(t=t.substring(1)),u.value.packageName=t,u.value.abbreviation=T(u.value.structName),u.value.tableName=`${u.value.package}_${A(u.value.packageName)}`}const S=H(null);return d({validate:u=>S.value.validate(u)}),(u,t)=>{const j=se,J=oe,m=ne,f=be,p=te,c=ae,C=me,R=Ce,W=fe,y=de,h=ue;return w(),_(h,{ref_key:"autoCodeForm",ref:S,disabled:a.isAdd,rules:a.rules,model:a.modelValue,"label-width":"120px",inline:!0},{default:l(()=>[e(R,null,{default:l(()=>[e(f,{span:6},{default:l(()=>[e(m,{label:"选择模板",prop:"package",class:"relative w-full"},{default:l(()=>[e(J,{modelValue:a.modelValue.package,"onUpdate:modelValue":t[0]||(t[0]=o=>a.modelValue.package=o)},{default:l(()=>[(w(!0),Z(ee,null,z(a.pkgs,o=>(w(),_(j,{key:o.ID,value:o.packageName,label:o.packageName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(f,{span:6},{default:l(()=>[e(m,{prop:"structName"},{label:l(()=>[e(c,{content:"驼峰格式,首字母大写,如OrgMember",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[13]||(t[13]=b(" 结构名称 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(C,{modelValue:a.modelValue.structName,"onUpdate:modelValue":t[1]||(t[1]=o=>a.modelValue.structName=o),placeholder:"首字母大写"},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:6},{default:l(()=>[e(m,{prop:"packageName",class:""},{label:l(()=>[e(c,{content:"生成文件的默认名称(建议为驼峰格式,首字母小写,如sysXxxXxxx)",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[14]||(t[14]=b(" 文件名称 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(C,{modelValue:a.modelValue.packageName,"onUpdate:modelValue":t[2]||(t[2]=o=>a.modelValue.packageName=o),placeholder:"请输入文件名称",onBlur:k},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(R,{class:""},{default:l(()=>[e(f,{span:6},{default:l(()=>[e(m,{label:"中文名称",prop:"description",class:""},{default:l(()=>[i("div",xe,[e(C,{modelValue:a.modelValue.description,"onUpdate:modelValue":t[3]||(t[3]=o=>a.modelValue.description=o),placeholder:"作为api描述"},{append:l(()=>[e(W,{icon:s(le),disabled:a.modelValue.onlyTemplate,onClick:E},null,8,["icon","disabled"])]),_:1},8,["modelValue"])])]),_:1})]),_:1}),e(f,{span:6},{default:l(()=>[e(m,{label:"TableName",class:""},{label:l(()=>[e(c,{content:"简称会作为入参对象名和路由group",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[15]||(t[15]=b(" 结构简称 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(C,{modelValue:a.modelValue.abbreviation,"onUpdate:modelValue":t[4]||(t[4]=o=>a.modelValue.abbreviation=o),placeholder:"请输入Struct简称"},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:6},{default:l(()=>[e(m,{label:"表名",prop:"tableName",class:""},{default:l(()=>[e(C,{modelValue:a.modelValue.tableName,"onUpdate:modelValue":t[5]||(t[5]=o=>a.modelValue.tableName=o),placeholder:"指定表名"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(R,null,{default:l(()=>[e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：会自动在结构体global.Model其中包含主键和软删除相关操作配置",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[16]||(t[16]=b(" 常规结构 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.gvaModel,"onUpdate:modelValue":t[6]||(t[6]=o=>a.modelValue.gvaModel=o),onChange:n},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：把自动生成的API注册进数据库",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[17]||(t[17]=b(" 自动创建API ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.autoCreateApiToSql,"onUpdate:modelValue":t[7]||(t[7]=o=>a.modelValue.autoCreateApiToSql=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：把自动生成的菜单注册进数据库",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[18]||(t[18]=b(" 自动创建菜单 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.autoCreateMenuToSql,"onUpdate:modelValue":t[8]||(t[8]=o=>a.modelValue.autoCreateMenuToSql=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：自动同步数据库表结构，如果不需要可以选择关闭。",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[19]||(t[19]=b(" 同步表结构 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.autoMigrate,"onUpdate:modelValue":t[9]||(t[9]=o=>a.modelValue.autoMigrate=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：会自动产生页面内的按钮权限配置，若不在角色管理中进行按钮分配则按钮不可见",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[20]||(t[20]=b(" 创建按钮权限 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.autoCreateBtnAuth,"onUpdate:modelValue":t[10]||(t[10]=o=>a.modelValue.autoCreateBtnAuth=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：会自动在结构体添加 created_by updated_by deleted_by，方便用户进行资源权限控制",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[21]||(t[21]=b(" 创建资源标识 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.autoCreateResource,"onUpdate:modelValue":t[11]||(t[11]=o=>a.modelValue.autoCreateResource=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:3},{default:l(()=>[e(m,null,{label:l(()=>[e(c,{content:"注：使用基础模板将不会包含任何结构体和CURD,仅仅配置enter等属性方便自行开发非CURD逻辑",placement:"bottom",effect:"light"},{default:l(()=>[i("div",null,[t[22]||(t[22]=b(" 基础模板 ")),e(p,null,{default:l(()=>[e(s(V))]),_:1})])]),_:1})]),default:l(()=>[e(y,{modelValue:a.modelValue.onlyTemplate,"onUpdate:modelValue":t[12]||(t[12]=o=>a.modelValue.onlyTemplate=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","rules","model"])}}});export{Re as default};
